<div class="container-fluid">
  
    <div class="row">
        <div class="col-sm-8 ">
            <table class="table table-hover">
             <thead>
                <th> Full Name</th>
                <th>Login</th>
                <th>Action</th>
             </thead>
             <tbody>
                 <tr  *ngFor="let user of users" >
                     <td>{{user.name}}</td>
                     <td>{{user.login}}</td>
                      <td>
                          <i class="far fa-edit" (click)="openModalEdit(Edit,user)"></i>
                          &nbsp;
                          &nbsp;
                          &nbsp;

                          <!-- <button class="btn btn-warning pull-left" (click)="openModalEdit(Edit,user)">Edit</button> -->
                          <i class="fas fa-trash" *ngIf="user.isadmin==false" (click)="openModalDelete(Delete,user._id)"></i>
                         <!-- <button class="btn btn-danger" (click)="openModalDelete(Delete,user._id)">Delete</button> -->

                     </td>
                 </tr>
             </tbody>
            </table>

        </div>
        <div class="col-sm-4">
            <div class="card" style="background-color: rgba(130, 130, 211, 0.3);">
                <h4 class="card-title text-danger text-center">ADD USER</h4>
                
         
                 <div class="card-body">
               
                    <label for="name"> Login :</label> <br>
                    <input type="text" class="input-group input-group-lg "  name="login" [(ngModel)]="user.login" placeholder="Login"> &nbsp;
                    <label  class="text-center"style="color:red">{{errorMsg.login}}</label>
                    <br>

                    <label for="password"> Password :</label> <br>
                    <input type="password" class="input-group input-group-lg " name="password" [(ngModel)]="user.password" placeholder="password">
                    <label  class="text-center"style="color:red">{{errorMsg.password}}</label>
                     <br>
                    <label for="Name">Name :</label>
                    <input type="text" class="input-group input-group-lg" name="name" [(ngModel)]="user.name" placeholder="name">
                    <label  class="text-center"style="color:red">{{errorMsg.name}}</label>
                    <div class="custom-control custom-checkbox">
                      <input type="checkbox" class="custom-control-input" id="defaultUnchecked" ng-checked="SwitchToAdmin()" (change)="SwitchToAdmin()" >
                      <label _ngcontent-dlc-c1="" class="custom-control-label" for="defaultUnchecked">admin ?</label>
                  </div>
                  <div class="row">
                  <div class="col-md-10"></div>
                  <div class="col-md-2"><i class="fas fa-user-plus fa-2x " (click)="Onsave()"></i></div>
                  </div>
                  {{errorMsg1}}
              </div>
        </div>
        
    </div>
    
</div>

  <ng-template #Edit >
    <div class="modal-header" style=" background-color: rgba(130, 130, 211, 0.3);text-align: center">
      <h4 class=" col-10 modal-title text-center' text-danger">Add User </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    
    <div class="modal-body" style="background-color: rgba(130, 130, 211, 0.3);">
      <form >
          <label for="name">Login</label> <br>
          <input type="email" class="form-control validate" name="login" [(ngModel)]="editUser.login">
          <label  class="text-center"style="color:red">{{errorMsg.login}}</label>
          <br>
          <label for="address">Password :</label>
          <br>
          <input type="password" class="form-control validate" name="password" [(ngModel)]="editUser.password">
          <label  class="text-center"style="color:red">{{errorMsg.password}}</label> 
          <br>
           <label for="address">Name :</label>
          <br>
          <input type="text" class="form-control validate" name="name" [(ngModel)]="editUser.name">
          <label  class="text-center"style="color:red">{{errorMsg.name}}</label>         
           <br>
         
           <button class="btn btn-primary" (click)="onEdit()">Edit</button>
      </form>


    </div>
  </ng-template>
  <ng-template #Delete>
    <div class="modal-header" style="background-color:  rgba(180, 25, 64, 0.1);text-align: center">
      <h4 class="col-10 modal-title text-center' text-danger">Deleate User</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body" style="background-color:  rgba(180, 25, 64, 0.1);">
          <p >Are you sure you want to delete this user  ?</p>
          <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-8">
              <button (click)="modalRef.hide()" class="btn btn-primary">No</button> |
              <button (click)="onDelete()" class="btn btn-danger">Yes</button>
            </div>
          </div>
      
    </div>
  </ng-template>
  